import"./darkmode-CXfVOGe4.js";/* empty css                  */import"./auth-check-B-Eq97Em.js";document.getElementById("profile-link").addEventListener("click",t=>{t.preventDefault(),window.checkAuthAndRedirect("./Profile.html")});let s=null,g=null,c=48;function f(t){const n=document.getElementById("ranking-slots");n.innerHTML="";for(let o=1;o<=t;o++){const e=document.createElement("div");e.className="rank-slot",o===1?e.classList.add("gold"):o===2?e.classList.add("silver"):o===3&&e.classList.add("bronze"),e.innerHTML=`
                        <span class="rank-number">${o}</span>
                        <div class="slot-content" data-slot="${o}">
                            <span class="placeholder">Drop team here</span>
                        </div>
                    `,n.appendChild(e)}y()}function y(){document.querySelectorAll(".slot-content").forEach(t=>{t.addEventListener("dragover",n=>{n.preventDefault(),n.dataTransfer.dropEffect="move",t.classList.add("drag-over")}),t.addEventListener("dragleave",n=>{t.classList.remove("drag-over")}),t.addEventListener("drop",n=>{if(n.preventDefault(),t.classList.remove("drag-over"),s){const o=t.querySelector(".team-logo");if(o&&g)g.appendChild(o);else if(o){const a=document.querySelector(".region-btn.active").dataset.region;document.getElementById(`${a}-region-logos`).appendChild(o)}const e=t.querySelector(".placeholder");e&&e.remove(),t.appendChild(s),m()}})})}function p(){document.querySelectorAll(".team-logo").forEach(t=>{t.addEventListener("dragstart",n=>{s=n.target.closest(".team-logo"),g=s.closest(".slot-content"),n.dataTransfer.effectAllowed="move",s.classList.add("dragging")}),t.addEventListener("dragend",n=>{s.classList.remove("dragging")})})}function m(){const t=document.querySelectorAll(".slot-content .team-logo").length,n=c;document.getElementById("slots-filled").textContent=`${t} / ${n} teams ranked`}document.querySelectorAll(".region-btn").forEach(t=>{t.addEventListener("click",()=>{document.querySelectorAll(".region-btn").forEach(e=>e.classList.remove("active")),t.classList.add("active");const n=t.dataset.region;c=parseInt(t.dataset.slots);const o={all:"All Regions",na:"North America",eu:"Europe",cn:"China",pac:"Pacific"};document.getElementById("region-title").textContent=o[n],f(c),document.querySelectorAll(".team-logos").forEach(e=>{e.classList.remove("active")}),document.getElementById(`${n}-region-logos`).classList.add("active"),m()})});document.querySelector(".save-rankings-btn").addEventListener("click",()=>{const t=[];if(document.querySelectorAll(".slot-content").forEach((o,e)=>{const a=o.querySelector(".team-logo");a&&t.push({rank:e+1,team:a.dataset.team})}),t.length===c){const{jsPDF:o}=window.jspdf,e=new o,a=document.querySelector(".region-btn.active").dataset.region,i={all:"All Regions",na:"North America",eu:"Europe",cn:"China",pac:"Pacific"}[a],v=window.getUsername()||"Guest",h=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});e.setFontSize(24),e.setTextColor(255,70,85),e.text("VCT Team Rankings",105,20,{align:"center"}),e.setFontSize(16),e.setTextColor(0,0,0),e.text(i,105,35,{align:"center"}),e.setFontSize(10),e.setTextColor(100,100,100),e.text(`Created by: ${v}`,105,45,{align:"center"}),e.text(`Date: ${h}`,105,52,{align:"center"}),e.setDrawColor(255,70,85),e.setLineWidth(.5),e.line(20,58,190,58);let r=70;e.setFontSize(12),e.setTextColor(0,0,0),t.forEach((l,S)=>{l.rank===1?e.setTextColor(255,215,0):l.rank===2?e.setTextColor(192,192,192):l.rank===3?e.setTextColor(205,127,50):e.setTextColor(0,0,0),e.setFont("helvetica","bold"),e.text(`${l.rank}.`,30,r),e.setFont("helvetica","normal"),e.text(l.team,50,r),r+=10,r>270&&S<t.length-1&&(e.addPage(),r=20)});const u=e.internal.getNumberOfPages();for(let l=1;l<=u;l++)e.setPage(l),e.setFontSize(8),e.setTextColor(150,150,150),e.text(`Page ${l} of ${u}`,105,290,{align:"center"});const E=`vct-rankings-${a}-${new Date().toISOString().split("T")[0]}.pdf`;e.save(E),alert("Rankings downloaded as PDF successfully!")}else alert(`Please fill all ${c} slots before saving. Currently filled: ${t.length}`)});function L(){const t=document.getElementById("all-region-logos");["na","eu","cn","pac"].forEach(o=>{document.getElementById(`${o}-region-logos`).querySelectorAll(".team-logo").forEach(d=>{const i=d.cloneNode(!0);i.draggable=!0,t.appendChild(i)})}),p()}f(48);p();L();m();
